import { NodeTemplate } from "../types/flow";

export const nodeTemplates: NodeTemplate[] = [
  // ============================================
  // TRIGGER - Scheduling & Triggers
  // ============================================
  // NOTE: Schedule Trigger removed - scheduling is handled by the Orchestrator, not Studio
  {
    type: "trigger.file_watch",
    category: "trigger",
    label: "File Watch",
    description: "Trigger when file changes",
    icon: "Eye",
    defaultConfig: { path: "", events: ["created", "modified"] },
    configSchema: [
      { name: "path", label: "Watch Path", type: "text", required: true, placeholder: "/path/to/folder" },
      { name: "pattern", label: "File Pattern", type: "text", placeholder: "*.csv" },
    ],
  },
  {
    type: "trigger.email_received",
    category: "trigger",
    label: "Email Trigger",
    description: "Trigger when email received",
    icon: "MailOpen",
    defaultConfig: {},
    configSchema: [
      { name: "folder", label: "Mail Folder", type: "text", default: "INBOX" },
      { name: "filter", label: "Subject Filter", type: "text", placeholder: "Invoice*" },
    ],
  },
  {
    type: "trigger.webhook",
    category: "trigger",
    label: "Webhook Trigger",
    description: "Trigger via HTTP webhook",
    icon: "Webhook",
    defaultConfig: { method: "POST" },
    configSchema: [
      { name: "path", label: "Webhook Path", type: "text", required: true, placeholder: "/webhook/my-trigger" },
      { name: "method", label: "HTTP Method", type: "select", default: "POST", options: [{ value: "GET", label: "GET" }, { value: "POST", label: "POST" }] },
    ],
    outputSchema: [
      { name: "body", type: "object", description: "Request body (JSON)" },
      { name: "headers", type: "object", description: "Request headers" },
      { name: "query", type: "object", description: "Query parameters" },
    ],
  },
  {
    type: "trigger.queue",
    category: "trigger",
    label: "Queue Trigger",
    description: "Trigger from message queue",
    icon: "ListOrdered",
    defaultConfig: {},
    configSchema: [
      { name: "queue_name", label: "Queue Name", type: "text", required: true },
    ],
  },
  {
    type: "trigger.manual",
    category: "trigger",
    label: "Manual Trigger",
    description: "Start workflow manually",
    icon: "Play",
    defaultConfig: {},
    configSchema: [],
  },
  {
    type: "trigger.form",
    category: "trigger",
    label: "Form Trigger",
    description: "Start workflow when form is submitted",
    icon: "FileText",
    defaultConfig: {
      formTitle: "My Form",
      formDescription: "",
      submitButtonLabel: "Submit",
      fields: [],
    },
    configSchema: [
      { name: "formTitle", label: "Form Title", type: "text", required: true, placeholder: "Contact Form" },
      { name: "formDescription", label: "Description", type: "textarea", placeholder: "Please fill out this form..." },
      { name: "submitButtonLabel", label: "Submit Button Text", type: "text", default: "Submit" },
      { name: "fields", label: "", type: "form-builder" },
    ],
    // Output: all form fields are available as ${formData.fieldId}
    outputSchema: [
      { name: "formData", type: "object", description: "All submitted form data", example: '{"nombre": "Juan", "email": "j@mail.com"}' },
      { name: "submissionId", type: "string", description: "Unique submission ID" },
      { name: "submittedAt", type: "string", description: "Timestamp of submission" },
    ],
  },
  {
    type: "trigger.api_polling",
    category: "trigger",
    label: "API Polling",
    description: "Poll an API endpoint at intervals",
    icon: "RefreshCw",
    defaultConfig: { method: "GET", interval: 60 },
    configSchema: [
      { name: "url", label: "API URL", type: "text", required: true, placeholder: "https://api.example.com/status" },
      { name: "method", label: "HTTP Method", type: "select", default: "GET", options: [{ value: "GET", label: "GET" }, { value: "POST", label: "POST" }] },
      { name: "interval", label: "Polling Interval (seconds)", type: "number", default: 60 },
      { name: "headers", label: "Headers (JSON)", type: "textarea", placeholder: '{"Authorization": "Bearer ..."}' },
      { name: "condition", label: "Trigger Condition (JSONPath)", type: "text", placeholder: "$.status == 'ready'" },
    ],
  },
  {
    type: "trigger.database_change",
    category: "trigger",
    label: "Database Change",
    description: "Trigger when database records change",
    icon: "DatabaseZap",
    defaultConfig: { event: "INSERT" },
    configSchema: [
      { name: "connection", label: "Connection Name", type: "text", required: true },
      { name: "table", label: "Table Name", type: "text", required: true },
      { name: "event", label: "Event Type", type: "select", default: "INSERT", options: [{ value: "INSERT", label: "Insert" }, { value: "UPDATE", label: "Update" }, { value: "DELETE", label: "Delete" }, { value: "ALL", label: "All Changes" }] },
      { name: "filter", label: "Filter Condition", type: "text", placeholder: "status = 'pending'" },
    ],
  },
  {
    type: "trigger.storage_event",
    category: "trigger",
    label: "Storage Event",
    description: "Trigger on S3/MinIO storage events",
    icon: "HardDrive",
    defaultConfig: { event: "ObjectCreated" },
    configSchema: [
      { name: "bucket", label: "Bucket Name", type: "text", required: true },
      { name: "prefix", label: "Path Prefix", type: "text", placeholder: "uploads/" },
      { name: "event", label: "Event Type", type: "select", default: "ObjectCreated", options: [{ value: "ObjectCreated", label: "Object Created" }, { value: "ObjectRemoved", label: "Object Removed" }, { value: "ObjectModified", label: "Object Modified" }] },
      { name: "suffix", label: "File Suffix Filter", type: "text", placeholder: ".pdf" },
    ],
  },
  {
    type: "trigger.message_bus",
    category: "trigger",
    label: "Message Bus",
    description: "Trigger from Kafka/RabbitMQ/Redis",
    icon: "Radio",
    defaultConfig: { provider: "rabbitmq" },
    configSchema: [
      { name: "provider", label: "Provider", type: "select", default: "rabbitmq", options: [{ value: "rabbitmq", label: "RabbitMQ" }, { value: "kafka", label: "Kafka" }, { value: "redis", label: "Redis Pub/Sub" }, { value: "sqs", label: "AWS SQS" }] },
      { name: "connection", label: "Connection String", type: "text", required: true, placeholder: "amqp://localhost:5672" },
      { name: "topic", label: "Topic/Queue Name", type: "text", required: true },
      { name: "consumer_group", label: "Consumer Group", type: "text", placeholder: "skuldbot-workers" },
    ],
  },
  {
    type: "trigger.chat",
    category: "trigger",
    label: "Chat Trigger",
    description: "Trigger from chat message (Slack, Teams, Telegram)",
    icon: "MessageCircle",
    defaultConfig: { platform: "slack" },
    configSchema: [
      { name: "platform", label: "Platform", type: "select", default: "slack", options: [{ value: "slack", label: "Slack" }, { value: "teams", label: "Microsoft Teams" }, { value: "telegram", label: "Telegram" }, { value: "discord", label: "Discord" }] },
      { name: "bot_token", label: "Bot Token", type: "password", required: true },
      { name: "channel", label: "Channel/Chat ID", type: "text", placeholder: "#general or C12345678" },
      { name: "command", label: "Command Prefix", type: "text", placeholder: "/runbot" },
      { name: "mention_only", label: "Only on Mention", type: "boolean", default: true },
    ],
  },

  // ============================================
  // WEB - Web Automation
  // ============================================
  {
    type: "web.open_browser",
    category: "web",
    label: "Open Browser",
    description: "Open a web browser",
    icon: "Globe",
    defaultConfig: { browser: "chromium", headless: false },
    configSchema: [
      { name: "url", label: "URL", type: "text", required: true, placeholder: "https://example.com" },
      { name: "browser", label: "Browser", type: "select", default: "chromium", options: [{ value: "chromium", label: "Chromium" }, { value: "firefox", label: "Firefox" }, { value: "webkit", label: "WebKit" }] },
      { name: "headless", label: "Headless Mode (invisible browser)", type: "boolean", default: false },
    ],
  },
  {
    type: "web.navigate",
    category: "web",
    label: "Navigate To",
    description: "Navigate to URL",
    icon: "ExternalLink",
    defaultConfig: {},
    configSchema: [
      { name: "url", label: "URL", type: "text", required: true, placeholder: "https://example.com" },
      { name: "wait_until", label: "Wait Until", type: "select", default: "load", options: [{ value: "load", label: "Page Load" }, { value: "domcontentloaded", label: "DOM Ready" }, { value: "networkidle", label: "Network Idle" }] },
    ],
  },
  {
    type: "web.click",
    category: "web",
    label: "Click Element",
    description: "Click on an element",
    icon: "MousePointer2",
    defaultConfig: {},
    configSchema: [
      { name: "selector", label: "CSS Selector", type: "text", required: true, placeholder: "#button-id" },
      { name: "timeout", label: "Timeout (ms)", type: "number", default: 30000 },
    ],
  },
  {
    type: "web.type",
    category: "web",
    label: "Type Text",
    description: "Type text into field",
    icon: "Type",
    defaultConfig: {},
    configSchema: [
      { name: "selector", label: "CSS Selector", type: "text", required: true },
      { name: "text", label: "Text to Type", type: "text", required: true },
      { name: "clear", label: "Clear Field First", type: "boolean", default: true },
    ],
  },
  {
    type: "web.select_option",
    category: "web",
    label: "Select Option",
    description: "Select dropdown option",
    icon: "ChevronDown",
    defaultConfig: {},
    configSchema: [
      { name: "selector", label: "CSS Selector", type: "text", required: true },
      { name: "value", label: "Value", type: "text", required: true },
    ],
  },
  {
    type: "web.get_text",
    category: "web",
    label: "Get Text",
    description: "Extract text from element",
    icon: "TextCursor",
    defaultConfig: {},
    configSchema: [
      { name: "selector", label: "CSS Selector", type: "text", required: true, supportsExpressions: true },
    ],
    outputSchema: [
      { name: "text", type: "string", description: "Extracted text content" },
    ],
  },
  {
    type: "web.get_attribute",
    category: "web",
    label: "Get Attribute",
    description: "Get element attribute",
    icon: "Tag",
    defaultConfig: {},
    configSchema: [
      { name: "selector", label: "CSS Selector", type: "text", required: true, supportsExpressions: true },
      { name: "attribute", label: "Attribute Name", type: "text", required: true, placeholder: "href" },
    ],
    outputSchema: [
      { name: "value", type: "string", description: "Attribute value" },
    ],
  },
  {
    type: "web.screenshot",
    category: "web",
    label: "Screenshot",
    description: "Take a screenshot",
    icon: "Camera",
    defaultConfig: { full_page: false },
    configSchema: [
      { name: "path", label: "Save Path", type: "text", placeholder: "./screenshot.png" },
      { name: "full_page", label: "Full Page", type: "boolean", default: false },
    ],
  },
  {
    type: "web.wait_element",
    category: "web",
    label: "Wait for Element",
    description: "Wait for element to appear",
    icon: "Clock",
    defaultConfig: { timeout: 30000 },
    configSchema: [
      { name: "selector", label: "CSS Selector", type: "text", required: true },
      { name: "state", label: "Wait For", type: "select", default: "visible", options: [{ value: "visible", label: "Visible" }, { value: "hidden", label: "Hidden" }, { value: "attached", label: "Attached" }] },
      { name: "timeout", label: "Timeout (ms)", type: "number", default: 30000 },
    ],
  },
  {
    type: "web.execute_js",
    category: "web",
    label: "Execute JavaScript",
    description: "Run JavaScript in browser",
    icon: "Code",
    defaultConfig: {},
    configSchema: [
      { name: "script", label: "JavaScript Code", type: "textarea", required: true, placeholder: "return document.title;" },
    ],
    outputSchema: [
      { name: "result", type: "any", description: "Return value from JavaScript" },
    ],
  },
  {
    type: "web.scroll",
    category: "web",
    label: "Scroll Page",
    description: "Scroll the page",
    icon: "ArrowDown",
    defaultConfig: {},
    configSchema: [
      { name: "direction", label: "Direction", type: "select", default: "down", options: [{ value: "down", label: "Down" }, { value: "up", label: "Up" }, { value: "to_element", label: "To Element" }] },
      { name: "selector", label: "Element (if To Element)", type: "text" },
    ],
  },
  {
    type: "web.handle_alert",
    category: "web",
    label: "Handle Alert",
    description: "Accept/dismiss alerts",
    icon: "AlertCircle",
    defaultConfig: { action: "accept" },
    configSchema: [
      { name: "action", label: "Action", type: "select", default: "accept", options: [{ value: "accept", label: "Accept" }, { value: "dismiss", label: "Dismiss" }] },
    ],
  },
  {
    type: "web.switch_tab",
    category: "web",
    label: "Switch Tab",
    description: "Switch browser tab",
    icon: "PanelLeft",
    defaultConfig: {},
    configSchema: [
      { name: "tab_index", label: "Tab Index", type: "number", default: 0 },
    ],
  },
  {
    type: "web.close_browser",
    category: "web",
    label: "Close Browser",
    description: "Close the browser",
    icon: "X",
    defaultConfig: {},
    configSchema: [],
  },
  {
    type: "web.download_file",
    category: "web",
    label: "Download File",
    description: "Download a file",
    icon: "Download",
    defaultConfig: {},
    configSchema: [
      { name: "url", label: "URL", type: "text", required: true },
      { name: "path", label: "Save Path", type: "text", required: true },
    ],
  },

  // ============================================
  // DESKTOP - Desktop Automation (Windows)
  // ============================================
  {
    type: "desktop.open_app",
    category: "desktop",
    label: "Open Application",
    description: "Launch an application",
    icon: "AppWindow",
    defaultConfig: {},
    configSchema: [
      { name: "path", label: "Application Path", type: "text", required: true },
      { name: "args", label: "Arguments", type: "text" },
    ],
  },
  {
    type: "desktop.click",
    category: "desktop",
    label: "Desktop Click",
    description: "Click at coordinates or element",
    icon: "MousePointer",
    defaultConfig: {},
    configSchema: [
      { name: "locator", label: "Element Locator", type: "text", placeholder: "name:Button1" },
      { name: "x", label: "X Coordinate", type: "number" },
      { name: "y", label: "Y Coordinate", type: "number" },
    ],
  },
  {
    type: "desktop.type_text",
    category: "desktop",
    label: "Type Text",
    description: "Type text with keyboard",
    icon: "Keyboard",
    defaultConfig: {},
    configSchema: [
      { name: "text", label: "Text", type: "text", required: true },
      { name: "interval", label: "Key Interval (ms)", type: "number", default: 50 },
    ],
  },
  {
    type: "desktop.hotkey",
    category: "desktop",
    label: "Send Hotkey",
    description: "Press keyboard shortcut",
    icon: "Command",
    defaultConfig: {},
    configSchema: [
      { name: "keys", label: "Key Combination", type: "text", required: true, placeholder: "ctrl+c" },
    ],
  },
  {
    type: "desktop.get_window",
    category: "desktop",
    label: "Get Window",
    description: "Find and focus window",
    icon: "Square",
    defaultConfig: {},
    configSchema: [
      { name: "title", label: "Window Title", type: "text", required: true },
      { name: "partial_match", label: "Partial Match", type: "boolean", default: true },
    ],
  },
  {
    type: "desktop.minimize",
    category: "desktop",
    label: "Minimize Window",
    description: "Minimize active window",
    icon: "Minus",
    defaultConfig: {},
    configSchema: [],
  },
  {
    type: "desktop.maximize",
    category: "desktop",
    label: "Maximize Window",
    description: "Maximize active window",
    icon: "Maximize2",
    defaultConfig: {},
    configSchema: [],
  },
  {
    type: "desktop.close_window",
    category: "desktop",
    label: "Close Window",
    description: "Close active window",
    icon: "XSquare",
    defaultConfig: {},
    configSchema: [],
  },
  {
    type: "desktop.screenshot",
    category: "desktop",
    label: "Desktop Screenshot",
    description: "Capture screen region",
    icon: "Monitor",
    defaultConfig: {},
    configSchema: [
      { name: "path", label: "Save Path", type: "text", required: true },
      { name: "region", label: "Region (x,y,w,h)", type: "text", placeholder: "0,0,1920,1080" },
    ],
  },
  {
    type: "desktop.image_click",
    category: "desktop",
    label: "Click Image",
    description: "Find and click image on screen",
    icon: "Image",
    defaultConfig: {},
    configSchema: [
      { name: "image_path", label: "Image Path", type: "text", required: true },
      { name: "confidence", label: "Confidence (0-1)", type: "number", default: 0.9 },
    ],
  },
  {
    type: "desktop.wait_image",
    category: "desktop",
    label: "Wait for Image",
    description: "Wait for image to appear",
    icon: "ScanSearch",
    defaultConfig: { timeout: 30000 },
    configSchema: [
      { name: "image_path", label: "Image Path", type: "text", required: true },
      { name: "timeout", label: "Timeout (ms)", type: "number", default: 30000 },
    ],
  },
  {
    type: "desktop.clipboard_copy",
    category: "desktop",
    label: "Copy to Clipboard",
    description: "Copy text to clipboard",
    icon: "Copy",
    defaultConfig: {},
    configSchema: [
      { name: "text", label: "Text", type: "text", required: true },
    ],
  },

  // ============================================
  // FILES - Files & Folders
  // ============================================
  {
    type: "files.read",
    category: "files",
    label: "Read File",
    description: "Read file contents",
    icon: "FileInput",
    defaultConfig: { encoding: "utf-8" },
    configSchema: [
      { name: "path", label: "File Path", type: "text", required: true },
      { name: "encoding", label: "Encoding", type: "select", default: "utf-8", options: [{ value: "utf-8", label: "UTF-8" }, { value: "ascii", label: "ASCII" }, { value: "latin1", label: "Latin-1" }] },
    ],
  },
  {
    type: "files.write",
    category: "files",
    label: "Write File",
    description: "Write to file",
    icon: "FileOutput",
    defaultConfig: { append: false },
    configSchema: [
      { name: "path", label: "File Path", type: "text", required: true },
      { name: "content", label: "Content", type: "textarea", required: true },
      { name: "append", label: "Append Mode", type: "boolean", default: false },
    ],
  },
  {
    type: "files.copy",
    category: "files",
    label: "Copy File",
    description: "Copy file or folder",
    icon: "Copy",
    defaultConfig: {},
    configSchema: [
      { name: "source", label: "Source Path", type: "text", required: true },
      { name: "destination", label: "Destination", type: "text", required: true },
    ],
  },
  {
    type: "files.move",
    category: "files",
    label: "Move File",
    description: "Move or rename file",
    icon: "FolderInput",
    defaultConfig: {},
    configSchema: [
      { name: "source", label: "Source Path", type: "text", required: true },
      { name: "destination", label: "Destination", type: "text", required: true },
    ],
  },
  {
    type: "files.delete",
    category: "files",
    label: "Delete File",
    description: "Delete file or folder",
    icon: "Trash2",
    defaultConfig: {},
    configSchema: [
      { name: "path", label: "Path", type: "text", required: true },
      { name: "recursive", label: "Recursive (folders)", type: "boolean", default: false },
    ],
  },
  {
    type: "files.create_folder",
    category: "files",
    label: "Create Folder",
    description: "Create new folder",
    icon: "FolderPlus",
    defaultConfig: {},
    configSchema: [
      { name: "path", label: "Folder Path", type: "text", required: true },
    ],
  },
  {
    type: "files.list",
    category: "files",
    label: "List Files",
    description: "List files in folder",
    icon: "FolderOpen",
    defaultConfig: {},
    configSchema: [
      { name: "path", label: "Folder Path", type: "text", required: true },
      { name: "pattern", label: "Pattern", type: "text", placeholder: "*.csv" },
      { name: "recursive", label: "Recursive", type: "boolean", default: false },
    ],
  },
  {
    type: "files.exists",
    category: "files",
    label: "File Exists",
    description: "Check if file exists",
    icon: "FileSearch",
    defaultConfig: {},
    configSchema: [
      { name: "path", label: "File Path", type: "text", required: true },
    ],
  },
  {
    type: "files.zip",
    category: "files",
    label: "Create ZIP",
    description: "Compress files to ZIP",
    icon: "Archive",
    defaultConfig: {},
    configSchema: [
      { name: "source", label: "Source Path", type: "text", required: true },
      { name: "destination", label: "ZIP Path", type: "text", required: true },
    ],
  },
  {
    type: "files.unzip",
    category: "files",
    label: "Extract ZIP",
    description: "Extract ZIP archive",
    icon: "FolderArchive",
    defaultConfig: {},
    configSchema: [
      { name: "source", label: "ZIP Path", type: "text", required: true },
      { name: "destination", label: "Extract To", type: "text", required: true },
    ],
  },
  {
    type: "files.get_info",
    category: "files",
    label: "Get File Info",
    description: "Get file metadata",
    icon: "FileText",
    defaultConfig: {},
    configSchema: [
      { name: "path", label: "File Path", type: "text", required: true },
    ],
  },
  {
    type: "files.watch",
    category: "files",
    label: "Watch Folder",
    description: "Monitor folder for changes",
    icon: "Eye",
    defaultConfig: {},
    configSchema: [
      { name: "path", label: "Folder Path", type: "text", required: true },
      { name: "pattern", label: "File Pattern", type: "text", placeholder: "*.*" },
    ],
  },

  // ============================================
  // EXCEL - Excel / CSV / Data
  // ============================================
  {
    type: "excel.open",
    category: "excel",
    label: "Open Excel",
    description: "Open Excel workbook",
    icon: "FileSpreadsheet",
    defaultConfig: {},
    configSchema: [
      { name: "path", label: "File Path", type: "text", required: true },
    ],
  },
  {
    type: "excel.read_range",
    category: "excel",
    label: "Read Range",
    description: "Read cell range",
    icon: "Table",
    defaultConfig: { header: true },
    configSchema: [
      { name: "range", label: "Range", type: "text", placeholder: "A1:D100" },
      { name: "sheet", label: "Sheet", type: "text" },
      { name: "header", label: "First Row as Header", type: "boolean", default: true },
      { name: "column_names", label: "Column Names", type: "text", placeholder: "Name, Date, Status, Amount" },
    ],
    outputSchema: [
      { name: "data", type: "array", description: "Array of rows (objects if header=true or column_names defined)" },
      { name: "rowCount", type: "number", description: "Number of rows read" },
    ],
  },
  {
    type: "excel.write_range",
    category: "excel",
    label: "Write Range",
    description: "Write data to cells",
    icon: "Table2",
    defaultConfig: {},
    configSchema: [
      { name: "range", label: "Start Cell", type: "text", required: true, placeholder: "A1" },
      { name: "data", label: "Data (JSON)", type: "textarea", required: true },
      { name: "sheet", label: "Sheet", type: "text" },
    ],
  },
  {
    type: "excel.read_cell",
    category: "excel",
    label: "Read Cell",
    description: "Read single cell",
    icon: "SquareStack",
    defaultConfig: {},
    configSchema: [
      { name: "cell", label: "Cell", type: "text", required: true, placeholder: "A1" },
      { name: "sheet", label: "Sheet", type: "text" },
    ],
    outputSchema: [
      { name: "value", type: "any", description: "Cell value" },
    ],
  },
  {
    type: "excel.write_cell",
    category: "excel",
    label: "Write Cell",
    description: "Write to single cell",
    icon: "PenLine",
    defaultConfig: {},
    configSchema: [
      { name: "cell", label: "Cell", type: "text", required: true, placeholder: "A1" },
      { name: "value", label: "Value", type: "text", required: true },
      { name: "sheet", label: "Sheet", type: "text" },
    ],
  },
  {
    type: "excel.add_row",
    category: "excel",
    label: "Add Row",
    description: "Append row to sheet",
    icon: "ListPlus",
    defaultConfig: {},
    configSchema: [
      { name: "data", label: "Row Data (JSON array)", type: "textarea", required: true },
      { name: "sheet", label: "Sheet", type: "text" },
    ],
  },
  {
    type: "excel.filter",
    category: "excel",
    label: "Filter Data",
    description: "Filter Excel data",
    icon: "Filter",
    defaultConfig: {},
    configSchema: [
      { name: "column", label: "Column", type: "text", required: true },
      { name: "condition", label: "Condition", type: "text", required: true, placeholder: "> 100" },
    ],
  },
  {
    type: "excel.save",
    category: "excel",
    label: "Save Excel",
    description: "Save workbook",
    icon: "Save",
    defaultConfig: {},
    configSchema: [
      { name: "path", label: "Save Path (optional)", type: "text" },
    ],
  },
  {
    type: "excel.close",
    category: "excel",
    label: "Close Excel",
    description: "Close workbook",
    icon: "X",
    defaultConfig: {},
    configSchema: [],
  },
  {
    type: "excel.csv_read",
    category: "excel",
    label: "Read CSV",
    description: "Read CSV file",
    icon: "FileText",
    defaultConfig: { delimiter: "," },
    configSchema: [
      { name: "path", label: "File Path", type: "text", required: true },
      { name: "delimiter", label: "Delimiter", type: "text", default: "," },
      { name: "header", label: "Has Header", type: "boolean", default: true },
    ],
  },
  {
    type: "excel.csv_write",
    category: "excel",
    label: "Write CSV",
    description: "Write to CSV file",
    icon: "FileOutput",
    defaultConfig: {},
    configSchema: [
      { name: "path", label: "File Path", type: "text", required: true },
      { name: "data", label: "Data (JSON)", type: "textarea", required: true },
      { name: "delimiter", label: "Delimiter", type: "text", default: "," },
    ],
  },
  {
    type: "excel.pivot",
    category: "excel",
    label: "Create Pivot",
    description: "Create pivot table",
    icon: "PieChart",
    defaultConfig: {},
    configSchema: [
      { name: "source_range", label: "Source Range", type: "text", required: true },
      { name: "rows", label: "Row Fields", type: "text", required: true },
      { name: "values", label: "Value Fields", type: "text", required: true },
    ],
  },
  {
    type: "excel.create",
    category: "excel",
    label: "Create Excel",
    description: "Create new workbook",
    icon: "FilePlus2",
    defaultConfig: {},
    configSchema: [
      { name: "path", label: "File Path", type: "text", required: true },
      { name: "sheet_name", label: "Initial Sheet Name", type: "text", default: "Sheet1" },
    ],
  },
  {
    type: "excel.create_sheet",
    category: "excel",
    label: "Create Sheet",
    description: "Create new worksheet",
    icon: "Plus",
    defaultConfig: {},
    configSchema: [
      { name: "name", label: "Sheet Name", type: "text", required: true },
    ],
  },
  {
    type: "excel.delete_sheet",
    category: "excel",
    label: "Delete Sheet",
    description: "Delete worksheet",
    icon: "Trash2",
    defaultConfig: {},
    configSchema: [
      { name: "name", label: "Sheet Name", type: "text", required: true },
    ],
  },
  {
    type: "excel.rename_sheet",
    category: "excel",
    label: "Rename Sheet",
    description: "Rename worksheet",
    icon: "Edit3",
    defaultConfig: {},
    configSchema: [
      { name: "old_name", label: "Current Name", type: "text", required: true },
      { name: "new_name", label: "New Name", type: "text", required: true },
    ],
  },
  {
    type: "excel.get_sheets",
    category: "excel",
    label: "Get Sheets",
    description: "List all worksheets",
    icon: "Layers",
    defaultConfig: {},
    configSchema: [],
    outputSchema: [
      { name: "sheets", type: "array", description: "List of sheet names" },
    ],
  },
  {
    type: "excel.delete_row",
    category: "excel",
    label: "Delete Row",
    description: "Delete row from sheet",
    icon: "RowsIcon",
    defaultConfig: {},
    configSchema: [
      { name: "row", label: "Row Number", type: "number", required: true },
      { name: "sheet", label: "Sheet", type: "text" },
    ],
  },
  {
    type: "excel.delete_column",
    category: "excel",
    label: "Delete Column",
    description: "Delete column from sheet",
    icon: "Columns",
    defaultConfig: {},
    configSchema: [
      { name: "column", label: "Column (e.g., A, B)", type: "text", required: true },
      { name: "sheet", label: "Sheet", type: "text" },
    ],
  },
  {
    type: "excel.insert_row",
    category: "excel",
    label: "Insert Row",
    description: "Insert row at position",
    icon: "ListPlus",
    defaultConfig: {},
    configSchema: [
      { name: "row", label: "Row Position", type: "number", required: true },
      { name: "data", label: "Row Data (JSON array)", type: "textarea" },
      { name: "sheet", label: "Sheet", type: "text" },
    ],
  },
  {
    type: "excel.set_format",
    category: "excel",
    label: "Set Format",
    description: "Apply cell formatting",
    icon: "PaintBucket",
    defaultConfig: {},
    configSchema: [
      { name: "range", label: "Range", type: "text", required: true, placeholder: "A1:D10" },
      { name: "bold", label: "Bold", type: "boolean", default: false },
      { name: "font_size", label: "Font Size", type: "number" },
      { name: "bg_color", label: "Background Color", type: "text", placeholder: "#FFFFFF" },
      { name: "number_format", label: "Number Format", type: "text", placeholder: "#,##0.00" },
    ],
  },
  {
    type: "excel.merge_cells",
    category: "excel",
    label: "Merge Cells",
    description: "Merge cell range",
    icon: "Merge",
    defaultConfig: {},
    configSchema: [
      { name: "range", label: "Range", type: "text", required: true, placeholder: "A1:D1" },
      { name: "sheet", label: "Sheet", type: "text" },
    ],
  },
  {
    type: "excel.auto_filter",
    category: "excel",
    label: "Auto Filter",
    description: "Apply auto filter",
    icon: "Filter",
    defaultConfig: {},
    configSchema: [
      { name: "range", label: "Range", type: "text", required: true },
      { name: "sheet", label: "Sheet", type: "text" },
    ],
  },
  {
    type: "excel.sort",
    category: "excel",
    label: "Sort Data",
    description: "Sort range data",
    icon: "ArrowUpDown",
    defaultConfig: { ascending: true },
    configSchema: [
      { name: "range", label: "Range", type: "text", required: true },
      { name: "column", label: "Sort Column", type: "text", required: true },
      { name: "ascending", label: "Ascending", type: "boolean", default: true },
    ],
  },
  {
    type: "excel.find_replace",
    category: "excel",
    label: "Find & Replace",
    description: "Find and replace values",
    icon: "SearchCode",
    defaultConfig: {},
    configSchema: [
      { name: "find", label: "Find", type: "text", required: true },
      { name: "replace", label: "Replace With", type: "text", required: true },
      { name: "range", label: "Range (optional)", type: "text" },
    ],
  },
  {
    type: "excel.create_chart",
    category: "excel",
    label: "Create Chart",
    description: "Create chart from data",
    icon: "LineChart",
    defaultConfig: { chart_type: "bar" },
    configSchema: [
      { name: "data_range", label: "Data Range", type: "text", required: true },
      { name: "chart_type", label: "Chart Type", type: "select", default: "bar", options: [{ value: "bar", label: "Bar" }, { value: "line", label: "Line" }, { value: "pie", label: "Pie" }, { value: "scatter", label: "Scatter" }] },
      { name: "title", label: "Chart Title", type: "text" },
    ],
  },
  {
    type: "excel.export_pdf",
    category: "excel",
    label: "Export to PDF",
    description: "Export workbook to PDF",
    icon: "FileDown",
    defaultConfig: {},
    configSchema: [
      { name: "output_path", label: "Output Path", type: "text", required: true },
      { name: "sheet", label: "Sheet (optional, all if empty)", type: "text" },
    ],
  },
  {
    type: "excel.vlookup",
    category: "excel",
    label: "VLOOKUP",
    description: "Perform VLOOKUP",
    icon: "Search",
    defaultConfig: {},
    configSchema: [
      { name: "lookup_value", label: "Lookup Value", type: "text", required: true },
      { name: "table_range", label: "Table Range", type: "text", required: true },
      { name: "col_index", label: "Column Index", type: "number", required: true },
    ],
    outputSchema: [
      { name: "result", type: "any", description: "Found value" },
    ],
  },

  // ============================================
  // EMAIL - Email Operations
  // ============================================
  {
    type: "email.send",
    category: "email",
    label: "Send Email",
    description: "Send an email",
    icon: "Send",
    defaultConfig: {},
    configSchema: [
      { name: "to", label: "To", type: "text", required: true },
      { name: "subject", label: "Subject", type: "text", required: true },
      { name: "body", label: "Body", type: "textarea", required: true },
      { name: "html", label: "HTML Body", type: "boolean", default: false },
    ],
  },
  {
    type: "email.read",
    category: "email",
    label: "Read Emails",
    description: "Read emails from mailbox",
    icon: "MailOpen",
    defaultConfig: { folder: "INBOX", limit: 10 },
    configSchema: [
      { name: "folder", label: "Folder", type: "text", default: "INBOX" },
      { name: "filter", label: "Subject Filter", type: "text" },
      { name: "unread_only", label: "Unread Only", type: "boolean", default: true },
      { name: "limit", label: "Max Emails", type: "number", default: 10 },
    ],
  },
  {
    type: "email.reply",
    category: "email",
    label: "Reply to Email",
    description: "Reply to an email",
    icon: "Reply",
    defaultConfig: {},
    configSchema: [
      { name: "message_id", label: "Original Message ID", type: "text", required: true },
      { name: "body", label: "Reply Body", type: "textarea", required: true },
    ],
  },
  {
    type: "email.forward",
    category: "email",
    label: "Forward Email",
    description: "Forward an email",
    icon: "Forward",
    defaultConfig: {},
    configSchema: [
      { name: "message_id", label: "Original Message ID", type: "text", required: true },
      { name: "to", label: "Forward To", type: "text", required: true },
    ],
  },
  {
    type: "email.download_attachment",
    category: "email",
    label: "Download Attachment",
    description: "Save email attachment",
    icon: "Paperclip",
    defaultConfig: {},
    configSchema: [
      { name: "message_id", label: "Message ID", type: "text", required: true },
      { name: "save_path", label: "Save Path", type: "text", required: true },
    ],
  },
  {
    type: "email.move",
    category: "email",
    label: "Move Email",
    description: "Move email to folder",
    icon: "FolderInput",
    defaultConfig: {},
    configSchema: [
      { name: "message_id", label: "Message ID", type: "text", required: true },
      { name: "folder", label: "Target Folder", type: "text", required: true },
    ],
  },
  {
    type: "email.delete",
    category: "email",
    label: "Delete Email",
    description: "Delete an email",
    icon: "Trash2",
    defaultConfig: {},
    configSchema: [
      { name: "message_id", label: "Message ID", type: "text", required: true },
    ],
  },
  {
    type: "email.mark_read",
    category: "email",
    label: "Mark as Read",
    description: "Mark email as read/unread",
    icon: "CheckCircle",
    defaultConfig: { read: true },
    configSchema: [
      { name: "message_id", label: "Message ID", type: "text", required: true },
      { name: "read", label: "Mark as Read", type: "boolean", default: true },
    ],
  },
  {
    type: "email.search",
    category: "email",
    label: "Search Emails",
    description: "Search emails with criteria",
    icon: "Search",
    defaultConfig: {},
    configSchema: [
      { name: "query", label: "Search Query", type: "text", required: true },
      { name: "folder", label: "Folder", type: "text", default: "INBOX" },
    ],
  },
  {
    type: "email.send_smtp",
    category: "email",
    label: "Send via SMTP",
    description: "Send email via SMTP server",
    icon: "Server",
    defaultConfig: { port: 587, tls: true },
    configSchema: [
      { name: "smtp_host", label: "SMTP Host", type: "text", required: true },
      { name: "port", label: "Port", type: "number", default: 587 },
      { name: "username", label: "Username", type: "text", required: true },
      { name: "password", label: "Password", type: "password", required: true },
      { name: "tls", label: "Use TLS", type: "boolean", default: true },
      { name: "to", label: "To", type: "text", required: true },
      { name: "subject", label: "Subject", type: "text", required: true },
      { name: "body", label: "Body", type: "textarea", required: true },
    ],
  },
  {
    type: "email.send_outlook",
    category: "email",
    label: "Send via Outlook",
    description: "Send email via Outlook",
    icon: "Mail",
    defaultConfig: {},
    configSchema: [
      { name: "to", label: "To", type: "text", required: true },
      { name: "cc", label: "CC", type: "text" },
      { name: "bcc", label: "BCC", type: "text" },
      { name: "subject", label: "Subject", type: "text", required: true },
      { name: "body", label: "Body", type: "textarea", required: true },
      { name: "html", label: "HTML Body", type: "boolean", default: false },
      { name: "attachments", label: "Attachments (paths)", type: "textarea" },
    ],
  },
  {
    type: "email.send_gmail",
    category: "email",
    label: "Send via Gmail",
    description: "Send email via Gmail API",
    icon: "Mail",
    defaultConfig: {},
    configSchema: [
      { name: "to", label: "To", type: "text", required: true },
      { name: "subject", label: "Subject", type: "text", required: true },
      { name: "body", label: "Body", type: "textarea", required: true },
      { name: "html", label: "HTML Body", type: "boolean", default: false },
    ],
  },
  {
    type: "email.read_imap",
    category: "email",
    label: "Read via IMAP",
    description: "Read emails via IMAP",
    icon: "Inbox",
    defaultConfig: { port: 993, ssl: true },
    configSchema: [
      { name: "imap_host", label: "IMAP Host", type: "text", required: true },
      { name: "port", label: "Port", type: "number", default: 993 },
      { name: "username", label: "Username", type: "text", required: true },
      { name: "password", label: "Password", type: "password", required: true },
      { name: "ssl", label: "Use SSL", type: "boolean", default: true },
      { name: "folder", label: "Folder", type: "text", default: "INBOX" },
      { name: "limit", label: "Max Emails", type: "number", default: 10 },
    ],
  },
  {
    type: "email.create_draft",
    category: "email",
    label: "Create Draft",
    description: "Create email draft",
    icon: "FileEdit",
    defaultConfig: {},
    configSchema: [
      { name: "to", label: "To", type: "text" },
      { name: "subject", label: "Subject", type: "text" },
      { name: "body", label: "Body", type: "textarea" },
    ],
  },
  {
    type: "email.get_folders",
    category: "email",
    label: "Get Folders",
    description: "List email folders",
    icon: "FolderTree",
    defaultConfig: {},
    configSchema: [],
    outputSchema: [
      { name: "folders", type: "array", description: "List of folder names" },
    ],
  },

  // ============================================
  // API - API & Integration
  // ============================================
  {
    type: "api.http_request",
    category: "api",
    label: "HTTP Request",
    description: "Make HTTP request",
    icon: "Globe",
    defaultConfig: { method: "GET" },
    configSchema: [
      { name: "method", label: "Method", type: "select", default: "GET", options: [{ value: "GET", label: "GET" }, { value: "POST", label: "POST" }, { value: "PUT", label: "PUT" }, { value: "PATCH", label: "PATCH" }, { value: "DELETE", label: "DELETE" }] },
      { name: "url", label: "URL", type: "text", required: true, supportsExpressions: true },
      { name: "headers", label: "Headers (JSON)", type: "textarea", supportsExpressions: true },
      { name: "body", label: "Body (JSON)", type: "textarea", supportsExpressions: true },
    ],
    outputSchema: [
      { name: "statusCode", type: "number", description: "HTTP status code", example: "200" },
      { name: "body", type: "object", description: "Response body (JSON)" },
      { name: "headers", type: "object", description: "Response headers" },
    ],
  },
  {
    type: "api.graphql",
    category: "api",
    label: "GraphQL Query",
    description: "Execute GraphQL query",
    icon: "Braces",
    defaultConfig: {},
    configSchema: [
      { name: "endpoint", label: "Endpoint", type: "text", required: true },
      { name: "query", label: "Query", type: "textarea", required: true },
      { name: "variables", label: "Variables (JSON)", type: "textarea" },
    ],
  },
  {
    type: "api.rest_get",
    category: "api",
    label: "REST GET",
    description: "Simple GET request",
    icon: "ArrowDownToLine",
    defaultConfig: {},
    configSchema: [
      { name: "url", label: "URL", type: "text", required: true },
      { name: "headers", label: "Headers (JSON)", type: "textarea" },
    ],
  },
  {
    type: "api.rest_post",
    category: "api",
    label: "REST POST",
    description: "Simple POST request",
    icon: "ArrowUpToLine",
    defaultConfig: {},
    configSchema: [
      { name: "url", label: "URL", type: "text", required: true },
      { name: "body", label: "Body (JSON)", type: "textarea", required: true },
      { name: "headers", label: "Headers (JSON)", type: "textarea" },
    ],
  },
  {
    type: "api.soap",
    category: "api",
    label: "SOAP Request",
    description: "Make SOAP request",
    icon: "FileCode",
    defaultConfig: {},
    configSchema: [
      { name: "wsdl", label: "WSDL URL", type: "text", required: true },
      { name: "operation", label: "Operation", type: "text", required: true },
      { name: "body", label: "XML Body", type: "textarea" },
    ],
  },
  {
    type: "api.oauth_token",
    category: "api",
    label: "Get OAuth Token",
    description: "Authenticate with OAuth",
    icon: "Key",
    defaultConfig: { grant_type: "client_credentials" },
    configSchema: [
      { name: "token_url", label: "Token URL", type: "text", required: true },
      { name: "client_id", label: "Client ID", type: "text", required: true },
      { name: "client_secret", label: "Client Secret", type: "text", required: true },
      { name: "grant_type", label: "Grant Type", type: "select", default: "client_credentials", options: [{ value: "client_credentials", label: "Client Credentials" }, { value: "password", label: "Password" }] },
    ],
  },
  {
    type: "api.parse_json",
    category: "api",
    label: "Parse JSON",
    description: "Parse JSON string",
    icon: "Braces",
    defaultConfig: {},
    configSchema: [
      { name: "input", label: "JSON String", type: "textarea", required: true },
    ],
  },
  {
    type: "api.json_path",
    category: "api",
    label: "JSONPath Query",
    description: "Extract with JSONPath",
    icon: "GitBranch",
    defaultConfig: {},
    configSchema: [
      { name: "json", label: "JSON Data", type: "textarea", required: true },
      { name: "path", label: "JSONPath", type: "text", required: true, placeholder: "$.data[*].name" },
    ],
  },
  {
    type: "api.ftp_upload",
    category: "api",
    label: "FTP Upload",
    description: "Upload file via FTP",
    icon: "Upload",
    defaultConfig: {},
    configSchema: [
      { name: "host", label: "FTP Host", type: "text", required: true },
      { name: "username", label: "Username", type: "text", required: true },
      { name: "password", label: "Password", type: "text", required: true },
      { name: "local_path", label: "Local File", type: "text", required: true },
      { name: "remote_path", label: "Remote Path", type: "text", required: true },
    ],
  },

  // ============================================
  // DATABASE - Database Operations
  // ============================================
  {
    type: "database.connect",
    category: "database",
    label: "Connect Database",
    description: "Connect to database",
    icon: "Database",
    defaultConfig: { type: "postgresql" },
    configSchema: [
      { name: "type", label: "Database Type", type: "select", default: "postgresql", options: [{ value: "postgresql", label: "PostgreSQL" }, { value: "mysql", label: "MySQL" }, { value: "mssql", label: "SQL Server" }, { value: "oracle", label: "Oracle" }, { value: "sqlite", label: "SQLite" }] },
      { name: "connection_string", label: "Connection String", type: "text", required: true },
    ],
  },
  {
    type: "database.query",
    category: "database",
    label: "Execute Query",
    description: "Run SQL query",
    icon: "Code",
    defaultConfig: {},
    configSchema: [
      { name: "query", label: "SQL Query", type: "textarea", required: true },
      { name: "params", label: "Parameters (JSON)", type: "textarea" },
    ],
  },
  {
    type: "database.insert",
    category: "database",
    label: "Insert Row",
    description: "Insert data into table",
    icon: "Plus",
    defaultConfig: {},
    configSchema: [
      { name: "table", label: "Table Name", type: "text", required: true },
      { name: "data", label: "Data (JSON)", type: "textarea", required: true },
    ],
  },
  {
    type: "database.update",
    category: "database",
    label: "Update Rows",
    description: "Update table data",
    icon: "RefreshCw",
    defaultConfig: {},
    configSchema: [
      { name: "table", label: "Table Name", type: "text", required: true },
      { name: "data", label: "Data (JSON)", type: "textarea", required: true },
      { name: "where", label: "WHERE Clause", type: "text", required: true },
    ],
  },
  {
    type: "database.delete",
    category: "database",
    label: "Delete Rows",
    description: "Delete from table",
    icon: "Trash2",
    defaultConfig: {},
    configSchema: [
      { name: "table", label: "Table Name", type: "text", required: true },
      { name: "where", label: "WHERE Clause", type: "text", required: true },
    ],
  },
  {
    type: "database.call_procedure",
    category: "database",
    label: "Call Procedure",
    description: "Execute stored procedure",
    icon: "Play",
    defaultConfig: {},
    configSchema: [
      { name: "procedure", label: "Procedure Name", type: "text", required: true },
      { name: "params", label: "Parameters (JSON)", type: "textarea" },
    ],
  },
  {
    type: "database.transaction",
    category: "database",
    label: "Transaction",
    description: "Start database transaction",
    icon: "GitMerge",
    defaultConfig: {},
    configSchema: [],
  },
  {
    type: "database.commit",
    category: "database",
    label: "Commit",
    description: "Commit transaction",
    icon: "Check",
    defaultConfig: {},
    configSchema: [],
  },
  {
    type: "database.close",
    category: "database",
    label: "Close Connection",
    description: "Close database connection",
    icon: "X",
    defaultConfig: {},
    configSchema: [],
  },

  // ============================================
  // DOCUMENT - PDF / OCR / Documents
  // ============================================
  {
    type: "document.pdf_read",
    category: "document",
    label: "Read PDF",
    description: "Extract text from PDF",
    icon: "FileText",
    defaultConfig: {},
    configSchema: [
      { name: "path", label: "PDF Path", type: "text", required: true },
      { name: "pages", label: "Pages (e.g., 1-5)", type: "text" },
    ],
  },
  {
    type: "document.pdf_merge",
    category: "document",
    label: "Merge PDFs",
    description: "Combine multiple PDFs",
    icon: "FilePlus",
    defaultConfig: {},
    configSchema: [
      { name: "files", label: "PDF Files (JSON array)", type: "textarea", required: true },
      { name: "output", label: "Output Path", type: "text", required: true },
    ],
  },
  {
    type: "document.pdf_split",
    category: "document",
    label: "Split PDF",
    description: "Split PDF into pages",
    icon: "Scissors",
    defaultConfig: {},
    configSchema: [
      { name: "path", label: "PDF Path", type: "text", required: true },
      { name: "pages", label: "Pages to Extract", type: "text", required: true },
      { name: "output", label: "Output Path", type: "text", required: true },
    ],
  },
  {
    type: "document.pdf_to_image",
    category: "document",
    label: "PDF to Image",
    description: "Convert PDF to images",
    icon: "Image",
    defaultConfig: {},
    configSchema: [
      { name: "path", label: "PDF Path", type: "text", required: true },
      { name: "output_dir", label: "Output Directory", type: "text", required: true },
      { name: "format", label: "Image Format", type: "select", default: "png", options: [{ value: "png", label: "PNG" }, { value: "jpg", label: "JPEG" }] },
    ],
  },
  {
    type: "document.ocr",
    category: "document",
    label: "OCR Extract",
    description: "Extract text with OCR",
    icon: "ScanLine",
    defaultConfig: { language: "eng" },
    configSchema: [
      { name: "path", label: "Image Path", type: "text", required: true },
      { name: "language", label: "Language", type: "select", default: "eng", options: [{ value: "eng", label: "English" }, { value: "spa", label: "Spanish" }, { value: "deu", label: "German" }, { value: "fra", label: "French" }] },
    ],
  },
  {
    type: "document.word_read",
    category: "document",
    label: "Read Word",
    description: "Read Word document",
    icon: "FileType",
    defaultConfig: {},
    configSchema: [
      { name: "path", label: "File Path", type: "text", required: true },
    ],
  },
  {
    type: "document.word_write",
    category: "document",
    label: "Write Word",
    description: "Create Word document",
    icon: "FileType2",
    defaultConfig: {},
    configSchema: [
      { name: "path", label: "Output Path", type: "text", required: true },
      { name: "content", label: "Content", type: "textarea", required: true },
    ],
  },
  {
    type: "document.html_to_pdf",
    category: "document",
    label: "HTML to PDF",
    description: "Convert HTML to PDF",
    icon: "FileDown",
    defaultConfig: {},
    configSchema: [
      { name: "html", label: "HTML Content or URL", type: "textarea", required: true },
      { name: "output", label: "Output Path", type: "text", required: true },
    ],
  },
  {
    type: "document.pdf_fill_form",
    category: "document",
    label: "Fill PDF Form",
    description: "Fill PDF form fields",
    icon: "PenTool",
    defaultConfig: {},
    configSchema: [
      { name: "path", label: "PDF Path", type: "text", required: true },
      { name: "fields", label: "Field Values (JSON)", type: "textarea", required: true },
      { name: "output", label: "Output Path", type: "text", required: true },
    ],
  },

  // ============================================
  // AI - AI / Intelligent Automation
  // ============================================
  {
    type: "ai.llm_prompt",
    category: "ai",
    label: "LLM Prompt",
    description: "Send prompt to LLM",
    icon: "Sparkles",
    defaultConfig: { provider: "openai", model: "gpt-4", temperature: 0.7 },
    configSchema: [
      { name: "provider", label: "Provider", type: "select", default: "openai", options: [{ value: "openai", label: "OpenAI" }, { value: "anthropic", label: "Anthropic" }, { value: "local", label: "Local LLM" }] },
      { name: "model", label: "Model", type: "text", default: "gpt-4" },
      { name: "prompt", label: "Prompt", type: "textarea", required: true, supportsExpressions: true },
      { name: "system_prompt", label: "System Prompt", type: "textarea" },
      { name: "temperature", label: "Temperature", type: "number", default: 0.7 },
    ],
    outputSchema: [
      { name: "response", type: "string", description: "LLM response text" },
      { name: "tokens", type: "number", description: "Tokens used" },
    ],
  },
  {
    type: "ai.agent",
    category: "ai",
    label: "AI Agent",
    description: "Autonomous agent executor",
    icon: "Bot",
    defaultConfig: { max_iterations: 10 },
    configSchema: [
      { name: "name", label: "Agent Name", type: "text" },
      { name: "goal", label: "Goal", type: "textarea", required: true },
      { name: "tools", label: "Available Tools", type: "textarea" },
      { name: "max_iterations", label: "Max Iterations", type: "number", default: 10 },
    ],
  },
  {
    type: "ai.extract_data",
    category: "ai",
    label: "AI Extract Data",
    description: "Extract structured data",
    icon: "FileSearch",
    defaultConfig: {},
    configSchema: [
      { name: "input", label: "Input Text", type: "textarea", required: true, supportsExpressions: true },
      { name: "schema", label: "Output Schema (JSON)", type: "textarea", required: true },
    ],
    outputSchema: [
      { name: "extracted", type: "object", description: "Extracted data matching schema" },
    ],
  },
  {
    type: "ai.summarize",
    category: "ai",
    label: "AI Summarize",
    description: "Summarize text content",
    icon: "AlignLeft",
    defaultConfig: { style: "concise" },
    configSchema: [
      { name: "input", label: "Input Text", type: "textarea", required: true, supportsExpressions: true },
      { name: "style", label: "Style", type: "select", default: "concise", options: [{ value: "concise", label: "Concise" }, { value: "detailed", label: "Detailed" }, { value: "bullets", label: "Bullet Points" }] },
    ],
    outputSchema: [
      { name: "summary", type: "string", description: "Summarized text" },
    ],
  },
  {
    type: "ai.classify",
    category: "ai",
    label: "AI Classify",
    description: "Classify text into categories",
    icon: "Tags",
    defaultConfig: {},
    configSchema: [
      { name: "input", label: "Input Text", type: "textarea", required: true, supportsExpressions: true },
      { name: "categories", label: "Categories (comma separated)", type: "text", required: true },
    ],
    outputSchema: [
      { name: "category", type: "string", description: "Classified category" },
      { name: "confidence", type: "number", description: "Confidence score (0-1)" },
    ],
  },
  {
    type: "ai.translate",
    category: "ai",
    label: "AI Translate",
    description: "Translate text",
    icon: "Languages",
    defaultConfig: {},
    configSchema: [
      { name: "input", label: "Input Text", type: "textarea", required: true, supportsExpressions: true },
      { name: "target_language", label: "Target Language", type: "text", required: true },
    ],
    outputSchema: [
      { name: "translated", type: "string", description: "Translated text" },
    ],
  },
  {
    type: "ai.sentiment",
    category: "ai",
    label: "Sentiment Analysis",
    description: "Analyze text sentiment",
    icon: "ThumbsUp",
    defaultConfig: {},
    configSchema: [
      { name: "input", label: "Input Text", type: "textarea", required: true, supportsExpressions: true },
    ],
    outputSchema: [
      { name: "sentiment", type: "string", description: "positive, negative, or neutral" },
      { name: "score", type: "number", description: "Sentiment score (-1 to 1)" },
    ],
  },
  {
    type: "ai.vision",
    category: "ai",
    label: "AI Vision",
    description: "Analyze images with AI",
    icon: "Eye",
    defaultConfig: {},
    configSchema: [
      { name: "image_path", label: "Image Path", type: "text", required: true },
      { name: "prompt", label: "Question about image", type: "textarea", required: true },
    ],
  },
  {
    type: "ai.embeddings",
    category: "ai",
    label: "Generate Embeddings",
    description: "Create text embeddings",
    icon: "Binary",
    defaultConfig: {},
    configSchema: [
      { name: "text", label: "Text", type: "textarea", required: true },
      { name: "model", label: "Model", type: "text", default: "text-embedding-ada-002" },
    ],
  },
  {
    type: "ai.repair_data",
    category: "ai",
    label: "AI Repair Data",
    description: "Intelligently repair data quality issues using AI",
    icon: "Wrench",
    defaultConfig: {
      context: "general",
      allow_format_normalization: true,
      allow_semantic_cleanup: true,
      allow_value_inference: false,
      allow_sensitive_repair: false,
      min_confidence: 0.9,
    },
    configSchema: [
      { name: "data", label: "Data to Repair", type: "textarea", required: true, supportsExpressions: true, placeholder: "${EXCEL_DATA}" },
      { name: "validation_report", label: "Validation Report", type: "textarea", required: true, supportsExpressions: true, placeholder: "${QUALITY_REPORT}" },
      { name: "context", label: "Context", type: "select", default: "general", options: [
        { value: "general", label: "General" },
        { value: "insurance", label: "Insurance" },
        { value: "healthcare", label: "Healthcare (HIPAA)" },
        { value: "finance", label: "Finance" },
      ]},
      { name: "allow_format_normalization", label: "Allow Format Normalization", type: "boolean", default: true },
      { name: "allow_semantic_cleanup", label: "Allow Semantic Cleanup", type: "boolean", default: true },
      { name: "allow_value_inference", label: "Allow Value Inference (CAUTION)", type: "boolean", default: false },
      { name: "allow_sensitive_repair", label: "Allow Sensitive Field Repair", type: "boolean", default: false },
      { name: "min_confidence", label: "Minimum Confidence (0.0-1.0)", type: "number", default: 0.9 },
    ],
    outputSchema: [
      { name: "status", type: "string", description: "Result status: repaired, partially_fixed, failed" },
      { name: "original_quality", type: "number", description: "Original data quality score" },
      { name: "repaired_quality", type: "number", description: "Quality score after repairs" },
      { name: "improvement", type: "number", description: "Quality improvement percentage" },
      { name: "repaired_data", type: "array", description: "Data with applied repairs" },
      { name: "repairs", type: "array", description: "List of applied repairs with confidence scores" },
      { name: "issues_fixed", type: "number", description: "Number of issues fixed" },
    ],
  },
  {
    type: "ai.suggest_repairs",
    category: "ai",
    label: "AI Suggest Repairs",
    description: "Preview repair suggestions without applying (for human review)",
    icon: "Lightbulb",
    defaultConfig: { context: "general" },
    configSchema: [
      { name: "data", label: "Data to Analyze", type: "textarea", required: true, supportsExpressions: true },
      { name: "validation_report", label: "Validation Report", type: "textarea", required: true, supportsExpressions: true },
      { name: "context", label: "Context", type: "select", default: "general", options: [
        { value: "general", label: "General" },
        { value: "insurance", label: "Insurance" },
        { value: "healthcare", label: "Healthcare" },
        { value: "finance", label: "Finance" },
      ]},
    ],
    outputSchema: [
      { name: "suggestion_count", type: "number", description: "Total number of suggestions" },
      { name: "high_confidence", type: "array", description: "High confidence suggestions (>= 0.9)" },
      { name: "medium_confidence", type: "array", description: "Medium confidence suggestions (0.7-0.9)" },
      { name: "low_confidence", type: "array", description: "Low confidence suggestions (< 0.7)" },
      { name: "estimated_quality_after_repair", type: "number", description: "Estimated quality if all repairs applied" },
    ],
  },

  // ============================================
  // PYTHON - Python Project Execution
  // ============================================
  {
    type: "python.execute",
    category: "python",
    label: "Execute Python",
    description: "Run Python code",
    icon: "Code2",
    defaultConfig: {},
    configSchema: [
      { name: "code", label: "Python Code", type: "textarea", required: true },
      { name: "variables", label: "Input Variables (JSON)", type: "textarea" },
    ],
  },
  {
    type: "python.project",
    category: "python",
    label: "Run Python Project",
    description: "Execute Python project",
    icon: "FolderCode",
    defaultConfig: {},
    configSchema: [
      { name: "project_path", label: "Project Path", type: "text", required: true },
      { name: "entrypoint", label: "Entrypoint", type: "text", required: true, placeholder: "main.py" },
      { name: "args", label: "Arguments", type: "text" },
    ],
  },
  {
    type: "python.pip_install",
    category: "python",
    label: "Pip Install",
    description: "Install Python packages",
    icon: "Package",
    defaultConfig: {},
    configSchema: [
      { name: "packages", label: "Packages", type: "text", required: true, placeholder: "pandas numpy" },
      { name: "requirements", label: "Requirements File", type: "text" },
    ],
  },
  {
    type: "python.virtualenv",
    category: "python",
    label: "Create Virtualenv",
    description: "Create Python environment",
    icon: "Box",
    defaultConfig: {},
    configSchema: [
      { name: "path", label: "Environment Path", type: "text", required: true },
      { name: "python_version", label: "Python Version", type: "text", default: "3.10" },
    ],
  },
  {
    type: "python.function",
    category: "python",
    label: "Python Function",
    description: "Define reusable function",
    icon: "Braces",
    defaultConfig: {},
    configSchema: [
      { name: "name", label: "Function Name", type: "text", required: true },
      { name: "code", label: "Function Code", type: "textarea", required: true },
      { name: "params", label: "Parameters", type: "text" },
    ],
  },
  {
    type: "python.import_module",
    category: "python",
    label: "Import Module",
    description: "Import Python module",
    icon: "Import",
    defaultConfig: {},
    configSchema: [
      { name: "module", label: "Module Name", type: "text", required: true },
      { name: "alias", label: "Alias", type: "text" },
    ],
  },
  {
    type: "python.notebook",
    category: "python",
    label: "Run Notebook",
    description: "Execute Jupyter notebook",
    icon: "BookOpen",
    defaultConfig: {},
    configSchema: [
      { name: "path", label: "Notebook Path", type: "text", required: true },
      { name: "output_path", label: "Output Path", type: "text" },
    ],
  },
  {
    type: "python.eval",
    category: "python",
    label: "Python Eval",
    description: "Evaluate expression",
    icon: "Calculator",
    defaultConfig: {},
    configSchema: [
      { name: "expression", label: "Expression", type: "text", required: true },
    ],
  },

  // ============================================
  // CONTROL - Control Flow
  // ============================================
  {
    type: "control.if",
    category: "control",
    label: "If Condition",
    description: "Branch based on condition",
    icon: "GitBranch",
    defaultConfig: {},
    configSchema: [
      { name: "condition", label: "Condition", type: "text", required: true, placeholder: "${count} > 10" },
    ],
  },
  {
    type: "control.switch",
    category: "control",
    label: "Switch",
    description: "Multi-way branch",
    icon: "GitFork",
    defaultConfig: {},
    configSchema: [
      { name: "expression", label: "Expression", type: "text", required: true },
      { name: "cases", label: "Cases (JSON)", type: "textarea", required: true },
    ],
  },
  {
    type: "control.loop",
    category: "control",
    label: "Loop",
    description: "Loop over items",
    icon: "Repeat",
    defaultConfig: {},
    configSchema: [
      { name: "items", label: "Items Array", type: "text", required: true, placeholder: "${items}" },
      { name: "item_var", label: "Item Variable Name", type: "text", default: "item" },
    ],
  },
  {
    type: "control.while",
    category: "control",
    label: "While Loop",
    description: "Loop while condition true",
    icon: "RefreshCw",
    defaultConfig: { max_iterations: 100 },
    configSchema: [
      { name: "condition", label: "Condition", type: "text", required: true },
      { name: "max_iterations", label: "Max Iterations", type: "number", default: 100 },
    ],
  },
  {
    type: "control.wait",
    category: "control",
    label: "Wait",
    description: "Pause execution",
    icon: "Clock",
    defaultConfig: { seconds: 1 },
    configSchema: [
      { name: "seconds", label: "Seconds", type: "number", required: true, default: 1 },
    ],
  },
  {
    type: "control.set_variable",
    category: "control",
    label: "Set Variable",
    description: "Define a variable",
    icon: "Variable",
    defaultConfig: {},
    configSchema: [
      { name: "name", label: "Variable Name", type: "text", required: true },
      { name: "value", label: "Value", type: "text", required: true },
    ],
  },
  {
    type: "control.try_catch",
    category: "control",
    label: "Try/Catch",
    description: "Handle errors gracefully",
    icon: "ShieldAlert",
    defaultConfig: {},
    configSchema: [
      { name: "retry_count", label: "Retry Count", type: "number", default: 0 },
    ],
  },
  {
    type: "control.parallel",
    category: "control",
    label: "Parallel",
    description: "Run branches in parallel",
    icon: "GitBranch",
    defaultConfig: {},
    configSchema: [
      { name: "branches", label: "Number of Branches", type: "number", default: 2 },
    ],
  },
  {
    type: "control.stop",
    category: "control",
    label: "Stop Bot",
    description: "Stop execution",
    icon: "StopCircle",
    defaultConfig: {},
    configSchema: [
      { name: "status", label: "Exit Status", type: "select", default: "success", options: [{ value: "success", label: "Success" }, { value: "error", label: "Error" }] },
    ],
  },
  {
    type: "control.goto",
    category: "control",
    label: "Go To",
    description: "Jump to node",
    icon: "CornerRightDown",
    defaultConfig: {},
    configSchema: [
      { name: "target_node", label: "Target Node ID", type: "text", required: true },
    ],
  },

  // ============================================
  // LOGGING - Logging & Monitoring
  // ============================================
  {
    type: "logging.log",
    category: "logging",
    label: "Log Message",
    description: "Write log message",
    icon: "FileText",
    defaultConfig: { level: "INFO" },
    configSchema: [
      { name: "message", label: "Message", type: "textarea", required: true },
      { name: "level", label: "Level", type: "select", default: "INFO", options: [{ value: "DEBUG", label: "DEBUG" }, { value: "INFO", label: "INFO" }, { value: "WARN", label: "WARN" }, { value: "ERROR", label: "ERROR" }] },
    ],
  },
  {
    type: "logging.screenshot",
    category: "logging",
    label: "Log Screenshot",
    description: "Capture screenshot to log",
    icon: "Camera",
    defaultConfig: {},
    configSchema: [
      { name: "description", label: "Description", type: "text" },
    ],
  },
  {
    type: "logging.metric",
    category: "logging",
    label: "Log Metric",
    description: "Record numeric metric",
    icon: "BarChart3",
    defaultConfig: {},
    configSchema: [
      { name: "name", label: "Metric Name", type: "text", required: true },
      { name: "value", label: "Value", type: "number", required: true },
      { name: "unit", label: "Unit", type: "text" },
    ],
  },
  {
    type: "logging.timer_start",
    category: "logging",
    label: "Start Timer",
    description: "Start performance timer",
    icon: "Timer",
    defaultConfig: {},
    configSchema: [
      { name: "name", label: "Timer Name", type: "text", required: true },
    ],
  },
  {
    type: "logging.timer_stop",
    category: "logging",
    label: "Stop Timer",
    description: "Stop and log timer",
    icon: "TimerOff",
    defaultConfig: {},
    configSchema: [
      { name: "name", label: "Timer Name", type: "text", required: true },
    ],
  },
  {
    type: "logging.notification",
    category: "logging",
    label: "Send Notification",
    description: "Send alert notification",
    icon: "Bell",
    defaultConfig: { channel: "email" },
    configSchema: [
      { name: "channel", label: "Channel", type: "select", default: "email", options: [{ value: "email", label: "Email" }, { value: "slack", label: "Slack" }, { value: "teams", label: "Teams" }, { value: "webhook", label: "Webhook" }] },
      { name: "message", label: "Message", type: "textarea", required: true },
    ],
  },
  {
    type: "logging.audit",
    category: "logging",
    label: "Audit Log",
    description: "Create audit entry",
    icon: "ClipboardList",
    defaultConfig: {},
    configSchema: [
      { name: "action", label: "Action", type: "text", required: true },
      { name: "details", label: "Details (JSON)", type: "textarea" },
    ],
  },
  {
    type: "logging.export",
    category: "logging",
    label: "Export Logs",
    description: "Export run logs",
    icon: "FileDown",
    defaultConfig: { format: "json" },
    configSchema: [
      { name: "path", label: "Output Path", type: "text", required: true },
      { name: "format", label: "Format", type: "select", default: "json", options: [{ value: "json", label: "JSON" }, { value: "csv", label: "CSV" }, { value: "html", label: "HTML" }] },
    ],
  },

  // ============================================
  // SECURITY - Security & Secrets
  // ============================================
  {
    type: "security.get_secret",
    category: "security",
    label: "Get Secret",
    description: "Retrieve secret from vault",
    icon: "Key",
    defaultConfig: {},
    configSchema: [
      { name: "name", label: "Secret Name", type: "text", required: true },
      { name: "vault", label: "Vault", type: "select", default: "orchestrator", options: [{ value: "orchestrator", label: "Orchestrator" }, { value: "env", label: "Environment" }, { value: "azure", label: "Azure Key Vault" }, { value: "aws", label: "AWS Secrets" }] },
    ],
  },
  {
    type: "security.encrypt",
    category: "security",
    label: "Encrypt Data",
    description: "Encrypt sensitive data",
    icon: "Lock",
    defaultConfig: {},
    configSchema: [
      { name: "data", label: "Data", type: "textarea", required: true },
      { name: "key", label: "Encryption Key", type: "text", required: true },
    ],
  },
  {
    type: "security.decrypt",
    category: "security",
    label: "Decrypt Data",
    description: "Decrypt encrypted data",
    icon: "Unlock",
    defaultConfig: {},
    configSchema: [
      { name: "data", label: "Encrypted Data", type: "textarea", required: true },
      { name: "key", label: "Decryption Key", type: "text", required: true },
    ],
  },
  {
    type: "security.hash",
    category: "security",
    label: "Hash Data",
    description: "Create data hash",
    icon: "Hash",
    defaultConfig: { algorithm: "sha256" },
    configSchema: [
      { name: "data", label: "Data", type: "textarea", required: true },
      { name: "algorithm", label: "Algorithm", type: "select", default: "sha256", options: [{ value: "sha256", label: "SHA-256" }, { value: "sha512", label: "SHA-512" }, { value: "md5", label: "MD5" }] },
    ],
  },
  {
    type: "security.mask_data",
    category: "security",
    label: "Mask Data",
    description: "Mask sensitive data in logs",
    icon: "EyeOff",
    defaultConfig: {},
    configSchema: [
      { name: "pattern", label: "Pattern to Mask", type: "text", required: true },
      { name: "mask_char", label: "Mask Character", type: "text", default: "*" },
    ],
  },
  {
    type: "security.validate_cert",
    category: "security",
    label: "Validate Certificate",
    description: "Validate SSL certificate",
    icon: "ShieldCheck",
    defaultConfig: {},
    configSchema: [
      { name: "url", label: "URL", type: "text", required: true },
    ],
  },

  // ============================================
  // HUMAN - Human-in-the-loop
  // ============================================
  {
    type: "human.approval",
    category: "human",
    label: "Request Approval",
    description: "Wait for human approval",
    icon: "UserCheck",
    defaultConfig: { timeout_minutes: 60 },
    configSchema: [
      { name: "title", label: "Request Title", type: "text", required: true },
      { name: "description", label: "Description", type: "textarea", required: true },
      { name: "approvers", label: "Approvers (emails)", type: "text" },
      { name: "timeout_minutes", label: "Timeout (minutes)", type: "number", default: 60 },
    ],
  },
  {
    type: "human.input",
    category: "human",
    label: "Request Input",
    description: "Request user input",
    icon: "MessageSquare",
    defaultConfig: {},
    configSchema: [
      { name: "prompt", label: "Prompt", type: "textarea", required: true },
      { name: "input_type", label: "Input Type", type: "select", default: "text", options: [{ value: "text", label: "Text" }, { value: "number", label: "Number" }, { value: "choice", label: "Choice" }, { value: "file", label: "File" }] },
      { name: "options", label: "Options (if Choice)", type: "text" },
    ],
  },
  {
    type: "human.review",
    category: "human",
    label: "Data Review",
    description: "Present data for review",
    icon: "ClipboardCheck",
    defaultConfig: {},
    configSchema: [
      { name: "title", label: "Review Title", type: "text", required: true },
      { name: "data", label: "Data to Review", type: "textarea", required: true },
      { name: "actions", label: "Available Actions", type: "text", default: "approve,reject,edit" },
    ],
  },
  {
    type: "human.exception",
    category: "human",
    label: "Handle Exception",
    description: "Human handles exception",
    icon: "AlertTriangle",
    defaultConfig: {},
    configSchema: [
      { name: "error", label: "Error Details", type: "textarea", required: true },
      { name: "options", label: "Resolution Options", type: "text", default: "retry,skip,abort" },
    ],
  },
  {
    type: "human.notification",
    category: "human",
    label: "Notify User",
    description: "Send notification to user",
    icon: "Bell",
    defaultConfig: {},
    configSchema: [
      { name: "recipient", label: "Recipient", type: "text", required: true },
      { name: "message", label: "Message", type: "textarea", required: true },
      { name: "priority", label: "Priority", type: "select", default: "normal", options: [{ value: "low", label: "Low" }, { value: "normal", label: "Normal" }, { value: "high", label: "High" }, { value: "urgent", label: "Urgent" }] },
    ],
  },

  // ============================================
  // COMPLIANCE - PII/PHI Protection & HIPAA Safe Harbor
  // ============================================
  {
    type: "compliance.detect_sensitive",
    category: "compliance",
    label: "Detect Sensitive Data",
    description: "Detect PII and PHI in text or data",
    icon: "ScanSearch",
    defaultConfig: { regulation: "hipaa", confidence_threshold: 0.5 },
    configSchema: [
      { name: "text", label: "Text to Analyze", type: "textarea", required: true, supportsExpressions: true },
      { name: "regulation", label: "Regulation", type: "select", default: "hipaa", options: [
        { value: "hipaa", label: "HIPAA" },
        { value: "hipaa_safe_harbor", label: "HIPAA Safe Harbor" },
        { value: "gdpr", label: "GDPR" },
        { value: "ccpa", label: "CCPA" },
      ]},
      { name: "confidence_threshold", label: "Confidence Threshold", type: "number", default: 0.5, placeholder: "0.0 - 1.0" },
    ],
    outputSchema: [
      { name: "pii_detected", type: "boolean", description: "Whether PII was detected" },
      { name: "phi_detected", type: "boolean", description: "Whether PHI was detected" },
      { name: "pii_count", type: "number", description: "Number of PII entities found" },
      { name: "phi_count", type: "number", description: "Number of PHI entities found" },
      { name: "risk_level", type: "string", description: "Risk level: none, low, medium, high, critical" },
      { name: "entities", type: "array", description: "List of detected entities with type and confidence" },
    ],
  },
  {
    type: "compliance.detect_pii",
    category: "compliance",
    label: "Detect PII",
    description: "Detect Personally Identifiable Information (SSN, email, phone, etc.)",
    icon: "UserSearch",
    defaultConfig: { confidence_threshold: 0.5 },
    configSchema: [
      { name: "text", label: "Text to Analyze", type: "textarea", required: true, supportsExpressions: true },
      { name: "confidence_threshold", label: "Confidence Threshold", type: "number", default: 0.5 },
    ],
    outputSchema: [
      { name: "pii_detected", type: "boolean", description: "Whether PII was detected" },
      { name: "pii_count", type: "number", description: "Number of PII entities found" },
      { name: "types_found", type: "array", description: "Types of PII found (ssn, email, phone, etc.)" },
      { name: "entities", type: "array", description: "List of detected PII entities" },
    ],
  },
  {
    type: "compliance.detect_phi",
    category: "compliance",
    label: "Detect PHI (HIPAA)",
    description: "Detect Protected Health Information - HIPAA 18 identifiers",
    icon: "HeartPulse",
    defaultConfig: { confidence_threshold: 0.5 },
    configSchema: [
      { name: "text", label: "Text to Analyze", type: "textarea", required: true, supportsExpressions: true },
      { name: "confidence_threshold", label: "Confidence Threshold", type: "number", default: 0.5 },
    ],
    outputSchema: [
      { name: "phi_detected", type: "boolean", description: "Whether PHI was detected" },
      { name: "phi_count", type: "number", description: "Number of PHI entities found" },
      { name: "types_found", type: "array", description: "Types of PHI found" },
      { name: "hipaa_identifiers_found", type: "array", description: "HIPAA 18 identifiers found (names, ssn, medical_record_numbers, etc.)" },
      { name: "entities", type: "array", description: "List of detected PHI entities" },
    ],
  },
  {
    type: "compliance.mask_data",
    category: "compliance",
    label: "Mask Sensitive Data",
    description: "HIPAA Safe Harbor Method 1: Mask PII/PHI with characters",
    icon: "EyeOff",
    defaultConfig: { mask_char: "*", preserve_length: true, partial_mask: false },
    configSchema: [
      { name: "text", label: "Text to Mask", type: "textarea", required: true, supportsExpressions: true },
      { name: "mask_char", label: "Mask Character", type: "text", default: "*" },
      { name: "preserve_length", label: "Preserve Length", type: "boolean", default: true },
      { name: "partial_mask", label: "Partial Mask (show last 4)", type: "boolean", default: false },
    ],
    outputSchema: [
      { name: "masked_text", type: "string", description: "Text with masked sensitive data" },
      { name: "entities_processed", type: "number", description: "Number of entities masked" },
      { name: "audit_log", type: "array", description: "Audit log of masking operations" },
    ],
  },
  {
    type: "compliance.redact_data",
    category: "compliance",
    label: "Redact Sensitive Data",
    description: "HIPAA Safe Harbor Method 2: Remove sensitive data completely",
    icon: "Eraser",
    defaultConfig: { replacement: "[REDACTED]" },
    configSchema: [
      { name: "text", label: "Text to Redact", type: "textarea", required: true, supportsExpressions: true },
      { name: "replacement", label: "Replacement Text", type: "text", default: "[REDACTED]" },
    ],
    outputSchema: [
      { name: "redacted_text", type: "string", description: "Text with redacted sensitive data" },
      { name: "entities_processed", type: "number", description: "Number of entities redacted" },
      { name: "audit_log", type: "array", description: "Audit log of redaction operations" },
    ],
  },
  {
    type: "compliance.pseudonymize",
    category: "compliance",
    label: "Pseudonymize Data",
    description: "HIPAA Safe Harbor Method 3: Replace with consistent pseudonyms",
    icon: "UserX",
    defaultConfig: { consistent: true, prefix: "PSEUDO_" },
    configSchema: [
      { name: "text", label: "Text to Pseudonymize", type: "textarea", required: true, supportsExpressions: true },
      { name: "consistent", label: "Consistent Pseudonyms", type: "boolean", default: true },
      { name: "prefix", label: "Pseudonym Prefix", type: "text", default: "PSEUDO_" },
    ],
    outputSchema: [
      { name: "pseudonymized_text", type: "string", description: "Text with pseudonymized data" },
      { name: "entities_processed", type: "number", description: "Number of entities pseudonymized" },
      { name: "pseudonym_map_size", type: "number", description: "Size of pseudonym mapping table" },
    ],
  },
  {
    type: "compliance.hash_data",
    category: "compliance",
    label: "Hash Sensitive Data",
    description: "HIPAA Safe Harbor Method 4: Apply cryptographic hash to sensitive data",
    icon: "Hash",
    defaultConfig: { algorithm: "sha256", truncate: 8 },
    configSchema: [
      { name: "text", label: "Text to Hash", type: "textarea", required: true, supportsExpressions: true },
      { name: "algorithm", label: "Hash Algorithm", type: "select", default: "sha256", options: [
        { value: "sha256", label: "SHA-256" },
        { value: "sha512", label: "SHA-512" },
        { value: "md5", label: "MD5" },
      ]},
      { name: "truncate", label: "Hash Length", type: "number", default: 8 },
    ],
    outputSchema: [
      { name: "hashed_text", type: "string", description: "Text with hashed sensitive data" },
      { name: "entities_processed", type: "number", description: "Number of entities hashed" },
    ],
  },
  {
    type: "compliance.generalize",
    category: "compliance",
    label: "Generalize Data",
    description: "HIPAA Safe Harbor Method 5: Generalize data (age -> range, zip -> partial)",
    icon: "Minimize2",
    defaultConfig: {},
    configSchema: [
      { name: "text", label: "Text to Generalize", type: "textarea", required: true, supportsExpressions: true },
    ],
    outputSchema: [
      { name: "generalized_text", type: "string", description: "Text with generalized data" },
      { name: "entities_processed", type: "number", description: "Number of entities generalized" },
    ],
  },
  {
    type: "compliance.hipaa_safe_harbor",
    category: "compliance",
    label: "Apply HIPAA Safe Harbor",
    description: "Full HIPAA Safe Harbor de-identification (all 18 identifiers)",
    icon: "ShieldCheck",
    defaultConfig: { method: "mask", strict: true },
    configSchema: [
      { name: "text", label: "Text to De-identify", type: "textarea", required: true, supportsExpressions: true },
      { name: "method", label: "De-identification Method", type: "select", default: "mask", options: [
        { value: "mask", label: "Mask (***)" },
        { value: "redact", label: "Redact ([REDACTED])" },
        { value: "pseudonymize", label: "Pseudonymize" },
        { value: "hash", label: "Hash" },
        { value: "generalize", label: "Generalize" },
      ]},
      { name: "strict", label: "Strict Mode", type: "boolean", default: true },
    ],
    outputSchema: [
      { name: "deidentified_text", type: "string", description: "De-identified text" },
      { name: "hipaa_compliant", type: "boolean", description: "Whether result is HIPAA compliant" },
      { name: "certification", type: "object", description: "HIPAA Safe Harbor certification details" },
    ],
  },
  {
    type: "compliance.sensitive_gate",
    category: "compliance",
    label: "Sensitive Data Gate",
    description: "Block flow if PII/PHI detected without proper authorization",
    icon: "ShieldAlert",
    defaultConfig: { require_approval: true, allow_phi: false },
    configSchema: [
      { name: "text", label: "Data to Check", type: "textarea", required: true, supportsExpressions: true },
      { name: "require_approval", label: "Require Approval", type: "boolean", default: true },
      { name: "allow_pii", label: "Allow PII", type: "boolean", default: false },
      { name: "allow_phi", label: "Allow PHI", type: "boolean", default: false },
      { name: "required_role", label: "Required Role", type: "text", placeholder: "hipaa_authorized" },
      { name: "justification_required", label: "Require Justification", type: "boolean", default: true },
    ],
    outputSchema: [
      { name: "approved", type: "boolean", description: "Whether data passed the gate" },
      { name: "blocked_reason", type: "string", description: "Reason if blocked" },
      { name: "pii_detected", type: "boolean", description: "Whether PII was detected" },
      { name: "phi_detected", type: "boolean", description: "Whether PHI was detected" },
    ],
  },
  {
    type: "compliance.classify_sensitivity",
    category: "compliance",
    label: "Classify Data Sensitivity",
    description: "Classify data sensitivity level (PUBLIC, CONFIDENTIAL, RESTRICTED)",
    icon: "Tags",
    defaultConfig: {},
    configSchema: [
      { name: "text", label: "Data to Classify", type: "textarea", required: true, supportsExpressions: true },
    ],
    outputSchema: [
      { name: "sensitivity_level", type: "string", description: "Sensitivity level: PUBLIC, PII, PHI" },
      { name: "data_classification", type: "string", description: "Classification: UNCLASSIFIED, CONFIDENTIAL, RESTRICTED" },
      { name: "risk_level", type: "string", description: "Risk level: none, low, medium, high, critical" },
      { name: "handling_requirements", type: "array", description: "List of handling requirements" },
      { name: "regulations_applicable", type: "array", description: "Applicable regulations (HIPAA, GDPR, CCPA)" },
    ],
  },
  {
    type: "compliance.audit_log",
    category: "compliance",
    label: "Compliance Audit Log",
    description: "Create compliance audit log entry (cannot be disabled)",
    icon: "FileText",
    defaultConfig: { data_type: "PHI" },
    configSchema: [
      { name: "action", label: "Action", type: "select", required: true, options: [
        { value: "access", label: "Access" },
        { value: "modify", label: "Modify" },
        { value: "delete", label: "Delete" },
        { value: "export", label: "Export" },
        { value: "share", label: "Share" },
      ]},
      { name: "data_type", label: "Data Type", type: "select", default: "PHI", options: [
        { value: "PHI", label: "PHI (Protected Health Info)" },
        { value: "PII", label: "PII (Personal Info)" },
      ]},
      { name: "user", label: "User", type: "text", default: "${CURRENT_USER}", supportsExpressions: true },
      { name: "details", label: "Details", type: "textarea", supportsExpressions: true },
    ],
    outputSchema: [
      { name: "audit_entry", type: "object", description: "Created audit log entry" },
      { name: "timestamp", type: "string", description: "Entry timestamp" },
    ],
  },
  {
    type: "compliance.validate_hipaa",
    category: "compliance",
    label: "Validate HIPAA Compliance",
    description: "Validate if data is HIPAA compliant (no unprotected PHI)",
    icon: "CheckCircle",
    defaultConfig: {},
    configSchema: [
      { name: "text", label: "Data to Validate", type: "textarea", required: true, supportsExpressions: true },
    ],
    outputSchema: [
      { name: "compliant", type: "boolean", description: "Whether data is HIPAA compliant" },
      { name: "violations", type: "array", description: "List of HIPAA violations found" },
      { name: "violation_count", type: "number", description: "Number of violations" },
      { name: "recommendations", type: "array", description: "Recommendations to achieve compliance" },
      { name: "hipaa_identifiers_found", type: "array", description: "HIPAA 18 identifiers found" },
    ],
  },

  // ============================================
  // DATA QUALITY - Validation powered by Great Expectations
  // ============================================
  {
    type: "dataquality.validate_schema",
    category: "dataquality",
    label: "Validate Data Schema",
    description: "Validate that data has expected columns",
    icon: "TableProperties",
    defaultConfig: { strict: false },
    configSchema: [
      { name: "data", label: "Data", type: "textarea", required: true, supportsExpressions: true, placeholder: "${EXCEL_DATA}" },
      { name: "expected_columns", label: "Expected Columns", type: "text", required: true, placeholder: "name, email, phone, status" },
      { name: "strict", label: "Strict Mode (no extra columns)", type: "boolean", default: false },
    ],
    outputSchema: [
      { name: "valid", type: "boolean", description: "Whether schema is valid" },
      { name: "missing_columns", type: "array", description: "Columns missing from data" },
      { name: "extra_columns", type: "array", description: "Extra columns in data (if strict)" },
    ],
  },
  {
    type: "dataquality.validate_not_null",
    category: "dataquality",
    label: "Validate Not Null",
    description: "Validate that a column has no null values",
    icon: "CircleDot",
    defaultConfig: { threshold: 0 },
    configSchema: [
      { name: "data", label: "Data", type: "textarea", required: true, supportsExpressions: true },
      { name: "column", label: "Column", type: "text", required: true },
      { name: "threshold", label: "Max Null % Allowed", type: "number", default: 0, placeholder: "0 = no nulls allowed" },
    ],
    outputSchema: [
      { name: "valid", type: "boolean", description: "Whether validation passed" },
      { name: "null_count", type: "number", description: "Number of null values found" },
      { name: "null_percent", type: "number", description: "Percentage of null values" },
    ],
  },
  {
    type: "dataquality.validate_unique",
    category: "dataquality",
    label: "Validate Unique",
    description: "Validate that column values are unique (no duplicates)",
    icon: "Fingerprint",
    defaultConfig: {},
    configSchema: [
      { name: "data", label: "Data", type: "textarea", required: true, supportsExpressions: true },
      { name: "column", label: "Column", type: "text", required: true },
    ],
    outputSchema: [
      { name: "valid", type: "boolean", description: "Whether all values are unique" },
      { name: "duplicate_count", type: "number", description: "Number of duplicates found" },
      { name: "duplicate_values", type: "array", description: "Sample of duplicate values" },
    ],
  },
  {
    type: "dataquality.validate_in_set",
    category: "dataquality",
    label: "Validate In Set",
    description: "Validate that column values are in allowed set",
    icon: "ListChecks",
    defaultConfig: {},
    configSchema: [
      { name: "data", label: "Data", type: "textarea", required: true, supportsExpressions: true },
      { name: "column", label: "Column", type: "text", required: true },
      { name: "allowed_values", label: "Allowed Values", type: "text", required: true, placeholder: "active, inactive, pending" },
    ],
    outputSchema: [
      { name: "valid", type: "boolean", description: "Whether all values are in set" },
      { name: "invalid_count", type: "number", description: "Number of invalid values" },
      { name: "invalid_values", type: "array", description: "Sample of invalid values" },
    ],
  },
  {
    type: "dataquality.validate_between",
    category: "dataquality",
    label: "Validate Between",
    description: "Validate that numeric values are within range",
    icon: "ArrowLeftRight",
    defaultConfig: { inclusive: true },
    configSchema: [
      { name: "data", label: "Data", type: "textarea", required: true, supportsExpressions: true },
      { name: "column", label: "Column", type: "text", required: true },
      { name: "min_value", label: "Minimum Value", type: "number", required: true },
      { name: "max_value", label: "Maximum Value", type: "number", required: true },
      { name: "inclusive", label: "Include Boundaries", type: "boolean", default: true },
    ],
    outputSchema: [
      { name: "valid", type: "boolean", description: "Whether all values are in range" },
      { name: "out_of_range_count", type: "number", description: "Number of out-of-range values" },
      { name: "out_of_range_values", type: "array", description: "Sample of out-of-range values" },
    ],
  },
  {
    type: "dataquality.validate_regex",
    category: "dataquality",
    label: "Validate Regex Pattern",
    description: "Validate that column values match a regex pattern",
    icon: "Regex",
    defaultConfig: {},
    configSchema: [
      { name: "data", label: "Data", type: "textarea", required: true, supportsExpressions: true },
      { name: "column", label: "Column", type: "text", required: true },
      { name: "pattern", label: "Pattern", type: "text", required: true, placeholder: "email, phone_us, ssn, or custom regex" },
    ],
    outputSchema: [
      { name: "valid", type: "boolean", description: "Whether all values match pattern" },
      { name: "invalid_count", type: "number", description: "Number of invalid values" },
      { name: "invalid_values", type: "array", description: "Sample of invalid values" },
    ],
  },
  {
    type: "dataquality.validate_email",
    category: "dataquality",
    label: "Validate Email Format",
    description: "Validate that column contains valid email addresses",
    icon: "AtSign",
    defaultConfig: {},
    configSchema: [
      { name: "data", label: "Data", type: "textarea", required: true, supportsExpressions: true },
      { name: "column", label: "Email Column", type: "text", required: true },
    ],
    outputSchema: [
      { name: "valid", type: "boolean", description: "Whether all emails are valid" },
      { name: "invalid_count", type: "number", description: "Number of invalid emails" },
      { name: "invalid_values", type: "array", description: "Sample of invalid emails" },
    ],
  },
  {
    type: "dataquality.validate_date",
    category: "dataquality",
    label: "Validate Date Format",
    description: "Validate that column contains valid dates",
    icon: "Calendar",
    defaultConfig: { format: "iso" },
    configSchema: [
      { name: "data", label: "Data", type: "textarea", required: true, supportsExpressions: true },
      { name: "column", label: "Date Column", type: "text", required: true },
      { name: "format", label: "Date Format", type: "select", default: "iso", options: [
        { value: "iso", label: "ISO (YYYY-MM-DD)" },
        { value: "us", label: "US (MM/DD/YYYY)" },
      ]},
    ],
    outputSchema: [
      { name: "valid", type: "boolean", description: "Whether all dates are valid" },
      { name: "invalid_count", type: "number", description: "Number of invalid dates" },
      { name: "invalid_values", type: "array", description: "Sample of invalid dates" },
    ],
  },
  {
    type: "dataquality.validate_row_count",
    category: "dataquality",
    label: "Validate Row Count",
    description: "Validate that data has expected number of rows",
    icon: "Rows3",
    defaultConfig: {},
    configSchema: [
      { name: "data", label: "Data", type: "textarea", required: true, supportsExpressions: true },
      { name: "min_count", label: "Minimum Rows", type: "number", placeholder: "Leave empty for no minimum" },
      { name: "max_count", label: "Maximum Rows", type: "number", placeholder: "Leave empty for no maximum" },
      { name: "exact_count", label: "Exact Count", type: "number", placeholder: "Leave empty if using min/max" },
    ],
    outputSchema: [
      { name: "valid", type: "boolean", description: "Whether row count is valid" },
      { name: "actual_count", type: "number", description: "Actual number of rows" },
    ],
  },
  {
    type: "dataquality.profile_data",
    category: "dataquality",
    label: "Profile Data",
    description: "Generate automatic data profile with statistics",
    icon: "BarChart3",
    defaultConfig: {},
    configSchema: [
      { name: "data", label: "Data", type: "textarea", required: true, supportsExpressions: true },
    ],
    outputSchema: [
      { name: "row_count", type: "number", description: "Total number of rows" },
      { name: "column_count", type: "number", description: "Total number of columns" },
      { name: "columns", type: "object", description: "Column-by-column statistics (nulls, types, unique values)" },
    ],
  },
  {
    type: "dataquality.run_suite",
    category: "dataquality",
    label: "Run Validation Suite",
    description: "Run multiple validations defined in an expectation suite",
    icon: "ListTodo",
    defaultConfig: {},
    configSchema: [
      { name: "data", label: "Data", type: "textarea", required: true, supportsExpressions: true },
      { name: "suite", label: "Expectation Suite (JSON)", type: "textarea", required: true, placeholder: '[{"type": "not_null", "column": "email"}, {"type": "unique", "column": "id"}]' },
    ],
    outputSchema: [
      { name: "success", type: "boolean", description: "Whether all validations passed" },
      { name: "validations_run", type: "number", description: "Number of validations executed" },
      { name: "validations_passed", type: "number", description: "Number of validations passed" },
      { name: "validations_failed", type: "number", description: "Number of validations failed" },
      { name: "success_rate", type: "number", description: "Percentage of validations passed" },
      { name: "results", type: "array", description: "Individual validation results" },
    ],
  },
  {
    type: "dataquality.generate_report",
    category: "dataquality",
    label: "Generate Quality Report",
    description: "Generate comprehensive data quality report",
    icon: "FileBarChart",
    defaultConfig: {},
    configSchema: [
      { name: "data", label: "Data", type: "textarea", required: true, supportsExpressions: true },
      { name: "data_source", label: "Data Source Name", type: "text", default: "unknown", placeholder: "Customer Database" },
    ],
    outputSchema: [
      { name: "timestamp", type: "string", description: "Report generation timestamp" },
      { name: "data_source", type: "string", description: "Name of data source" },
      { name: "total_rows", type: "number", description: "Total rows analyzed" },
      { name: "validations_run", type: "number", description: "Total validations executed" },
      { name: "success_rate", type: "number", description: "Overall validation success rate" },
      { name: "profile", type: "object", description: "Data profile" },
      { name: "validation_results", type: "array", description: "All validation results" },
      { name: "summary", type: "object", description: "Quality summary with recommendations" },
    ],
  },
  {
    type: "dataquality.list_profiles",
    category: "dataquality",
    label: "List Quality Profiles",
    description: "List all available quality profiles by vertical",
    icon: "FolderOpen",
    defaultConfig: {},
    configSchema: [
      { name: "vertical", label: "Filter by Vertical", type: "select", options: [
        { value: "", label: "All Verticals" },
        { value: "insurance", label: "Insurance" },
        { value: "healthcare", label: "Healthcare" },
        { value: "finance", label: "Finance" },
        { value: "general", label: "General" },
      ]},
    ],
    outputSchema: [
      { name: "profiles", type: "array", description: "List of available profiles with metadata" },
      { name: "count", type: "number", description: "Total number of profiles" },
    ],
  },
  {
    type: "dataquality.get_profile",
    category: "dataquality",
    label: "Get Quality Profile",
    description: "Get a specific quality profile by name",
    icon: "FileSearch",
    defaultConfig: {},
    configSchema: [
      { name: "profile_name", label: "Profile Name", type: "select", required: true, options: [
        { value: "insurance_claims", label: "Insurance Claims" },
        { value: "insurance_policies", label: "Insurance Policies" },
        { value: "healthcare_patients", label: "Healthcare Patients" },
        { value: "healthcare_encounters", label: "Healthcare Encounters" },
        { value: "finance_transactions", label: "Finance Transactions" },
        { value: "finance_accounts", label: "Finance Accounts" },
        { value: "general_contacts", label: "General Contacts" },
        { value: "general_products", label: "General Products" },
      ]},
    ],
    outputSchema: [
      { name: "name", type: "string", description: "Profile name" },
      { name: "vertical", type: "string", description: "Industry vertical" },
      { name: "description", type: "string", description: "Profile description" },
      { name: "required_columns", type: "array", description: "Required columns" },
      { name: "expectations", type: "array", description: "Validation expectations" },
    ],
  },
  {
    type: "dataquality.apply_profile",
    category: "dataquality",
    label: "Apply Quality Profile",
    description: "Validate data using a predefined quality profile",
    icon: "ShieldCheck",
    defaultConfig: { fail_on_error: true },
    configSchema: [
      { name: "data", label: "Data to Validate", type: "textarea", required: true, supportsExpressions: true },
      { name: "profile_name", label: "Quality Profile", type: "select", required: true, options: [
        { value: "insurance_claims", label: "Insurance Claims" },
        { value: "insurance_policies", label: "Insurance Policies" },
        { value: "healthcare_patients", label: "Healthcare Patients" },
        { value: "healthcare_encounters", label: "Healthcare Encounters" },
        { value: "finance_transactions", label: "Finance Transactions" },
        { value: "finance_accounts", label: "Finance Accounts" },
        { value: "general_contacts", label: "General Contacts" },
        { value: "general_products", label: "General Products" },
      ]},
      { name: "fail_on_error", label: "Fail on Validation Error", type: "boolean", default: true },
    ],
    outputSchema: [
      { name: "success", type: "boolean", description: "Whether all validations passed" },
      { name: "profile_name", type: "string", description: "Profile used" },
      { name: "validations_run", type: "number", description: "Number of validations executed" },
      { name: "validations_passed", type: "number", description: "Number of validations passed" },
      { name: "validations_failed", type: "number", description: "Number of validations failed" },
      { name: "quality_score", type: "number", description: "Overall quality score (0-100)" },
      { name: "results", type: "array", description: "Detailed validation results" },
    ],
  },
  {
    type: "dataquality.validate_and_repair",
    category: "dataquality",
    label: "Validate & Auto-Repair",
    description: "Validate with profile and auto-repair with AI if issues found",
    icon: "Wand2",
    defaultConfig: {
      min_confidence: 0.9,
      allow_format_normalization: true,
      allow_semantic_cleanup: true,
      allow_value_inference: false,
    },
    configSchema: [
      { name: "data", label: "Data to Validate", type: "textarea", required: true, supportsExpressions: true },
      { name: "profile_name", label: "Quality Profile", type: "select", required: true, options: [
        { value: "insurance_claims", label: "Insurance Claims" },
        { value: "insurance_policies", label: "Insurance Policies" },
        { value: "healthcare_patients", label: "Healthcare Patients" },
        { value: "healthcare_encounters", label: "Healthcare Encounters" },
        { value: "finance_transactions", label: "Finance Transactions" },
        { value: "finance_accounts", label: "Finance Accounts" },
        { value: "general_contacts", label: "General Contacts" },
        { value: "general_products", label: "General Products" },
      ]},
      { name: "min_confidence", label: "Min Repair Confidence", type: "number", default: 0.9, placeholder: "0.9" },
      { name: "allow_format_normalization", label: "Allow Format Normalization", type: "boolean", default: true },
      { name: "allow_semantic_cleanup", label: "Allow Semantic Cleanup", type: "boolean", default: true },
      { name: "allow_value_inference", label: "Allow Value Inference", type: "boolean", default: false },
    ],
    outputSchema: [
      { name: "status", type: "string", description: "Result status: valid, repaired, partially_fixed, needs_review" },
      { name: "original_quality", type: "number", description: "Quality score before repairs (0-100)" },
      { name: "final_quality", type: "number", description: "Quality score after repairs (0-100)" },
      { name: "repairs_applied", type: "number", description: "Number of repairs applied" },
      { name: "repairs_skipped", type: "number", description: "Number of repairs skipped (low confidence)" },
      { name: "data", type: "array", description: "Repaired data" },
      { name: "repair_log", type: "array", description: "Detailed log of all repairs" },
    ],
  },
  {
    type: "dataquality.create_custom_profile",
    category: "dataquality",
    label: "Create Custom Profile",
    description: "Create a custom quality profile with your own validations",
    icon: "FilePlus2",
    defaultConfig: {},
    configSchema: [
      { name: "name", label: "Profile Name", type: "text", required: true, placeholder: "my_customer_profile" },
      { name: "description", label: "Description", type: "text", placeholder: "Custom profile for customer data validation" },
      { name: "vertical", label: "Vertical", type: "select", default: "general", options: [
        { value: "insurance", label: "Insurance" },
        { value: "healthcare", label: "Healthcare" },
        { value: "finance", label: "Finance" },
        { value: "general", label: "General" },
      ]},
      { name: "required_columns", label: "Required Columns (comma-separated)", type: "text", placeholder: "id, name, email" },
      { name: "expectations", label: "Expectations (JSON)", type: "textarea", required: true, placeholder: '[{"type": "not_null", "column": "email"}, {"type": "email", "column": "email"}]' },
    ],
    outputSchema: [
      { name: "success", type: "boolean", description: "Whether profile was created" },
      { name: "profile_name", type: "string", description: "Name of created profile" },
      { name: "expectation_count", type: "number", description: "Number of expectations in profile" },
    ],
  },
];

export const getNodeTemplate = (type: string): NodeTemplate | undefined => {
  return nodeTemplates.find((t) => t.type === type);
};

export const getNodesByCategory = (category: string): NodeTemplate[] => {
  return nodeTemplates.filter((t) => t.category === category);
};
